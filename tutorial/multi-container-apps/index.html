<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="MAKEEN CBY Training Labs"><meta name=author content=MAKEEN><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-4.6.3"><title>Multi-Container Apps - MAKEEN LABS</title><link rel=stylesheet href=../../assets/stylesheets/application.adb8469c.css><link rel=stylesheet href=../../assets/stylesheets/application-palette.a8b3c06d.css><meta name=theme-color content=#2196f3><script src=../../assets/javascripts/modernizr.86422ebf.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><link rel=stylesheet href=../../css/styles.css></head> <body dir=ltr data-md-color-primary=blue data-md-color-accent=blue> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#container-networking tabindex=0 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=../.. title="MAKEEN LABS" aria-label="MAKEEN LABS" class="md-header-nav__button md-logo"> <img alt=logo src=../../images/makeen_logo_white.png width=24 height=24> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> MAKEEN LABS </span> <span class=md-header-nav__topic> Multi-Container Apps </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input aria-label=search name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/fintech-ye title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> makeen/fintech-ye </div> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main role=main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=../.. title="MAKEEN LABS" class="md-nav__button md-logo"> <img alt=logo src=../../images/makeen_logo_white.png width=48 height=48> </a> MAKEEN LABS </label> <div class=md-nav__source> <a href=https://github.com/fintech-ye title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> makeen/fintech-ye </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title="Getting Started" class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../our-application/ title="First Application" class=md-nav__link> First Application </a> </li> <li class=md-nav__item> <a href=../updating-our-app/ title="Updating First App" class=md-nav__link> Updating First App </a> </li> <li class=md-nav__item> <a href=../sharing-our-app/ title="Sharing our App" class=md-nav__link> Sharing our App </a> </li> <li class=md-nav__item> <a href=../persisting-our-data/ title="Persisting our DB" class=md-nav__link> Persisting our DB </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Multi-Container Apps </label> <a href=./ title="Multi-Container Apps" class="md-nav__link md-nav__link--active"> Multi-Container Apps </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#container-networking class=md-nav__link> Container Networking </a> </li> <li class=md-nav__item> <a href=#starting-mssql-server class=md-nav__link> Starting MSSQL Server </a> </li> <li class=md-nav__item> <a href=#creating-simple-data class=md-nav__link> Creating Simple Data </a> </li> <li class=md-nav__item> <a href=#running-our-banksimpleapp-with-mssql-server class=md-nav__link> Running our BankSimpleApp with MSSQL Server </a> </li> <li class=md-nav__item> <a href=#recap class=md-nav__link> Recap </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../using-docker-compose/ title="Using Docker Compose" class=md-nav__link> Using Docker Compose </a> </li> <li class=md-nav__item> <a href=../image-building-best-practices/ title="Image Building Best Practices" class=md-nav__link> Image Building Best Practices </a> </li> <li class=md-nav__item> <a href=../what-next/ title="What Next?" class=md-nav__link> What Next? </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#container-networking class=md-nav__link> Container Networking </a> </li> <li class=md-nav__item> <a href=#starting-mssql-server class=md-nav__link> Starting MSSQL Server </a> </li> <li class=md-nav__item> <a href=#creating-simple-data class=md-nav__link> Creating Simple Data </a> </li> <li class=md-nav__item> <a href=#running-our-banksimpleapp-with-mssql-server class=md-nav__link> Running our BankSimpleApp with MSSQL Server </a> </li> <li class=md-nav__item> <a href=#recap class=md-nav__link> Recap </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1>Multi-Container Apps</h1> <p>Up to this point, we have been working with single container apps. But, we now want to add MSSQL Server DB to the application stack. The following question often arises - "Where will MSSQL Server run? Install it in the same container or run it separately?" In general, <strong>each container should do one thing and do it well.</strong> A few reasons:</p> <ul> <li>There's a good chance you'd have to scale APIs and front-ends differently than databases.</li> <li>Separate containers let you version and update versions in isolation.</li> <li>While you may use a container for the database locally, you may want to use a managed service for the database in production. You don't want to ship your database engine with your app then.</li> <li>Running multiple processes will require a process manager (the container only starts one process), which adds complexity to container startup/shutdown.</li> </ul> <h2 id=container-networking>Container Networking<a class=headerlink href=#container-networking title="Permanent link">&para;</a></h2> <p>Remember that containers, by default, run in isolation and don't know anything about other processes or containers on the same machine. So, how do we allow one container to talk to another? The answer is <strong>networking</strong>. Now, you don't have to be a network engineer. Simply remember this rule...</p> <blockquote> <p>If two containers are on the same network, they can talk to each other. If they aren't, they can't.</p> </blockquote> <h2 id=starting-mssql-server>Starting MSSQL Server<a class=headerlink href=#starting-mssql-server title="Permanent link">&para;</a></h2> <p>There are two ways to put a container on a network: 1) Assign it at start or 2) connect an existing container. For now, we will create the network first and attach the MSSQL Server container at startup.</p> <ol> <li> <p>Create the network.</p> <div class=highlight><pre><span></span><code>docker network create bank-network
</code></pre></div> </li> <li> <p>Pull the official MS SQLServer docker image from docker hub <a href=https://hub.docker.com/_/microsoft-mssql-server>https://hub.docker.com/_/microsoft-mssql-server</a></p> <div class=highlight><pre><span></span><code>docker pull mcr.microsoft.com/mssql/server:2022-latest
</code></pre></div> </li> <li> <p>Start a MSSQL Server container and attach it to the network. We're also going to define a few environment variables that the database will use to initialize the database (see the "Environment Variables" section in the <a href="https://learn.microsoft.com/en-us/sql/linux/quickstart-install-connect-docker?view=sql-server-ver16">Microsoft Learn</a>).</p> <div class=highlight><pre><span></span><code>docker run -d --network<span class=o>=</span>bank-network --name mssql-server -p <span class=m>1433</span>:1433 -e <span class=s2>&quot;ACCEPT_EULA=Y&quot;</span> -e <span class=s2>&quot;MSSQL_SA_PASSWORD=CBY@123456&quot;</span> -e <span class=s2>&quot;MSSQL_PID=Evaluation&quot;</span>  -v mssql_volume:/var/opt/mssql -d mcr.microsoft.com/mssql/server:2022-latest
</code></pre></div> <blockquote> <p>Remember: This tutorial uses a simple password <code>CBY@123456</code> as an example for this tutorial, your password will always be different</p> </blockquote> <div class="admonition info"> <p class=admonition-title>Pro-tip</p> <p>You will notice we're using a volume named <code>mssql_volume</code> here and mounting it at <code>/var/opt/mssql</code>, which is where MSSQL Server stores its data. However, we never ran a <code>docker volume create</code> command. Docker recognizes we want to use a named volume and creates one automatically for us.</p> </div> </li> <li> <p>To confirm we have the database up and running, connect to the database and verify it connects.</p> <div class=highlight><pre><span></span><code>docker <span class=nb>exec</span> -it mssql-server  /opt/mssql-tools/bin/sqlcmd  -S localhost -U sa -P CBY@123456 -Q <span class=s2>&quot;sp_databases&quot;</span>
</code></pre></div> <p>You should see output that looks like this:</p> <div class=highlight><pre><span></span><code>+--------------------+--------------------+
| DATABASE_NAME      | DATABASE_SIZE      |
+--------------------+--------------------+
| master             | 6848 NULL          |
| model              | 16384 NULL         |
| msdb               | 16960 NULL         |
| tmpdb              | 73728 NULL         |
+--------------------+--------------------+
</code></pre></div> </li> </ol> <h2 id=creating-simple-data>Creating Simple Data<a class=headerlink href=#creating-simple-data title="Permanent link">&para;</a></h2> <p>Now that we know MSSQL Server is up and running, but before using it in our app, we need to create simple data in our database</p> <ol> <li> <p>Clone the BankSimpleApp Repository</p> <div class=highlight><pre><span></span><code>git clone https://github.com/fintech-ye/BankSimpleApp.git
</code></pre></div> <p>Now change the working directory into the repo directory by executing:</p> <div class=highlight><pre><span></span><code><span class=nb>cd</span> BankSimpleApp
</code></pre></div> </li> <li> <p>Execute the following <code>docker cp</code> command to copy <code>.sql</code> files into mssql-server docker container</p> <div class=highlight><pre><span></span><code>docker cp ./db_init/ mssql-server:/tmp/
</code></pre></div> <p>The above command will copy the directory <code>db_init</code> into the MSSQL Server container. The directory <code>db_init</code> contains two files <code>db_create.sql</code> and <code>db_insert.sql</code>. The files content look like the following:</p> <div class=highlight><pre><span></span><code><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=p>(</span><span class=k>SELECT</span> <span class=n>name</span> <span class=k>FROM</span> <span class=n>sys</span><span class=p>.</span><span class=n>databases</span> <span class=k>WHERE</span> <span class=n>name</span> <span class=o>=</span> <span class=s1>&#39;cby&#39;</span><span class=p>)</span>
<span class=k>BEGIN</span>
<span class=k>CREATE</span> <span class=k>DATABASE</span> <span class=n>cby</span><span class=p>;</span>
<span class=k>END</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>IF</span> <span class=n>object_id</span><span class=p>(</span><span class=s1>&#39;cby.dbo.#accounts&#39;</span><span class=p>)</span> <span class=k>is</span> <span class=k>not</span> <span class=k>null</span>
<span class=k>BEGIN</span>
    <span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=n>cby</span><span class=p>].[</span><span class=n>dbo</span><span class=p>].[</span><span class=n>accounts</span><span class=p>]</span> <span class=p>(</span>
        <span class=p>[</span><span class=n>BIC</span><span class=p>]</span>          <span class=nb>VARCHAR</span> <span class=p>(</span><span class=mi>50</span><span class=p>)</span> <span class=k>NOT</span> <span class=k>NULL</span><span class=p>,</span>
        <span class=p>[</span><span class=n>account_name</span><span class=p>]</span> <span class=nb>VARCHAR</span> <span class=p>(</span><span class=mi>50</span><span class=p>)</span> <span class=k>NOT</span> <span class=k>NULL</span><span class=p>,</span>
        <span class=p>[</span><span class=n>balance</span><span class=p>]</span>      <span class=nb>INT</span>          <span class=k>CONSTRAINT</span> <span class=p>[</span><span class=n>DEFAULT_accounts_balance</span><span class=p>]</span> <span class=k>DEFAULT</span> <span class=p>((</span><span class=mi>0</span><span class=p>))</span> <span class=k>NOT</span> <span class=k>NULL</span><span class=p>,</span>
        <span class=p>[</span><span class=n>bank_code</span><span class=p>]</span>    <span class=nb>CHAR</span> <span class=p>(</span><span class=mi>10</span><span class=p>)</span>    <span class=k>NULL</span><span class=p>,</span>
        <span class=p>[</span><span class=n>currency</span><span class=p>]</span>     <span class=nb>CHAR</span> <span class=p>(</span><span class=mi>10</span><span class=p>)</span>    <span class=k>CONSTRAINT</span> <span class=p>[</span><span class=n>DEFAULT_accounts_currency</span><span class=p>]</span> <span class=k>DEFAULT</span> <span class=p>((</span><span class=mi>886</span><span class=p>))</span> <span class=k>NOT</span> <span class=k>NULL</span><span class=p>,</span>
        <span class=k>CONSTRAINT</span> <span class=p>[</span><span class=n>PK_accounts</span><span class=p>]</span> <span class=k>PRIMARY</span> <span class=k>KEY</span> <span class=n>CLUSTERED</span> <span class=p>([</span><span class=n>BIC</span><span class=p>]</span> <span class=k>ASC</span><span class=p>)</span>
    <span class=p>);</span>
<span class=k>END</span>

<span class=k>DELETE</span> <span class=k>FROM</span> <span class=n>cby</span><span class=p>.</span><span class=n>dbo</span><span class=p>.</span><span class=n>accounts</span><span class=p>;</span>

<span class=k>INSERT</span> <span class=k>INTO</span> <span class=n>cby</span><span class=p>.</span><span class=n>dbo</span><span class=p>.</span><span class=n>accounts</span> <span class=p>(</span><span class=n>BIC</span><span class=p>,</span> <span class=n>account_name</span><span class=p>,</span> <span class=n>balance</span><span class=p>,</span> <span class=n>bank_code</span><span class=p>,</span> <span class=n>currency</span><span class=p>)</span>
<span class=k>VALUES</span> <span class=p>(</span><span class=s1>&#39;CBYEYESA&#39;</span><span class=p>,</span> <span class=s1>&#39;Central Bank of Yemen&#39;</span><span class=p>,</span> <span class=mi>1000000000</span><span class=p>,</span> <span class=s1>&#39;CBYE&#39;</span><span class=p>,</span> <span class=s1>&#39;886&#39;</span><span class=p>),</span>
       <span class=p>(</span><span class=s1>&#39;KRMBYESA&#39;</span><span class=p>,</span> <span class=s1>&#39;Kuraimi Islamic Bank&#39;</span><span class=p>,</span> <span class=mi>50000000</span><span class=p>,</span> <span class=s1>&#39;KRMB&#39;</span><span class=p>,</span> <span class=s1>&#39;886&#39;</span><span class=p>),</span>
       <span class=p>(</span><span class=s1>&#39;YKBAYESA&#39;</span><span class=p>,</span> <span class=s1>&#39;Yemen Kuwait Bank&#39;</span><span class=p>,</span> <span class=mi>25500000</span><span class=p>,</span> <span class=s1>&#39;YKBA&#39;</span><span class=p>,</span> <span class=s1>&#39;886&#39;</span><span class=p>),</span>
       <span class=p>(</span><span class=s1>&#39;CACAYESA&#39;</span><span class=p>,</span> <span class=s1>&#39;CAC Bank&#39;</span><span class=p>,</span> <span class=mi>84000000</span><span class=p>,</span> <span class=s1>&#39;CACB&#39;</span><span class=p>,</span> <span class=s1>&#39;886&#39;</span><span class=p>);</span>
</code></pre></div> </li> <li> <p>Execute the following <code>docker exec</code> command, to create a new database called <code>cby</code> and a table called <code>accounts</code>, in addition to inserting 4 records into the accounts table.</p> <div class=highlight><pre><span></span><code>docker <span class=nb>exec</span> -it mssql-server /opt/mssql-tools/bin/sqlcmd -S localhost -U sa -P CBY@123456 -i /tmp/db_init/db_create.sql -i /tmp/db_init/db_insert.sql
</code></pre></div> </li> </ol> <p>The command <code>docker exec</code> is used to execute a command inside a specific container. So in the previous command, we have run a utility tool called <code>sqlcmd</code> (which is inside the <code>mssql-server</code> container) to execute the <code>.sql</code> files we have previously copied to the container.</p> <ol> <li> <p>Ensure that our test data has been generated by executing:</p> <p><div class=highlight><pre><span></span><code>docker <span class=nb>exec</span> -it mssql-server /opt/mssql-tools/bin/sqlcmd -S localhost -U sa -P CBY@123456 -Q <span class=s2>&quot;select * from cby.dbo.accounts&quot;</span>
</code></pre></div> You should see output that looks like this:</p> </li> </ol> <div class=highlight><pre><span></span><code>BIC                             account_name                               balance     bank_code  currency
------------------------------- ----------------------------------------- ----------- ---------- ----------
CACAYESA                        CAC Bank                                    <span class=m>84000000</span>     CACB       <span class=m>886</span>
CBYEYESA                        Central Bank of Yemen                       <span class=m>1000000000</span>   CBYE       <span class=m>886</span>
KRMBYESA                        Kuraimi Islamic Bank                        <span class=m>50000000</span>     KRMB       <span class=m>886</span>
YKBAYESA                        Yemen Kuwait Bank                           <span class=m>25500000</span>     YKBA       <span class=m>886</span>
</code></pre></div> <p>Now our MSSQL Server container <code>mssql-server</code> is ready, let's use it! But, the question is... how? If we run our app container on the same network, how our app will find the database container?</p> <p>Simply, our app only needs to connect to the db using a host named <code>mssql-server</code> which as also the name of the MSSQL Server container and it'll talk to the database!</p> <p>See, It doesn't get much simpler than that!</p> <h2 id=running-our-banksimpleapp-with-mssql-server>Running our BankSimpleApp with MSSQL Server<a class=headerlink href=#running-our-banksimpleapp-with-mssql-server title="Permanent link">&para;</a></h2> <p>The BankSimpleApp app supports the setting of a few environment variables to specify MSSQL connection settings. They are:</p> <ul> <li><code>DB_SERVER</code> - the hostname for the running MSSQL server</li> <li><code>DB_UID</code> - the username to use for the connection</li> <li><code>DB_PASSWD</code> - the password to use for the connection</li> <li><code>DB_NAME</code> - the database to use once connected</li> </ul> <div class="admonition warning setting connection settings via env vars"> <p class=admonition-title>Warning</p> <p>While using env vars to set connection settings is generally ok for development, it is <strong>HIGHLY DISCOURAGED</strong> when running applications in production. A more secure mechanism is to use the secret support provided by a container orchestration framework, such as <code>Kubernetes</code>.</p> </div> <p>With all of that explained, let's start our dev-ready container!</p> <ol> <li> <p>Pull the docker image from docker hub <a href=https://hub.docker.com/r/maghbari/bank-simple-app>https://hub.docker.com/r/maghbari/bank-simple-app</a></p> <div class=highlight><pre><span></span><code>docker pull maghbari/bank-simple-app
</code></pre></div> </li> <li> <p>We'll specify each of the environment variables above, as well as connect the container to our app network.</p> <div class=highlight><pre><span></span><code>docker run -d --network<span class=o>=</span>bank-network --name<span class=o>=</span>bank-app -p <span class=m>8080</span>:80 -e <span class=nv>DB_SERVER</span><span class=o>=</span><span class=s2>&quot;mssql-server,1433&quot;</span> -e <span class=nv>DB_NAME</span><span class=o>=</span><span class=s2>&quot;cby&quot;</span> -e <span class=nv>DB_UID</span><span class=o>=</span><span class=s2>&quot;sa&quot;</span> -e <span class=nv>DB_PASSWD</span><span class=o>=</span><span class=s2>&quot;CBY@123456&quot;</span> maghbari/bank-simple-app
</code></pre></div> </li> <li> <p>After a few seconds, open your web browser to <a href=http://localhost:8080>http://localhost:8080</a>.</p> <p>You should see our container app <code>bank-app</code> has queried and viewed bank accounts data from <code>mssql-server</code> container which is running on the same network <code>bank-network</code> with our app.</p> <p class=text-center><img alt="Bank Simple Application is running" src=bank-container-app.png style="width: 80%; "></p> </li> </ol> <p>If you take a quick look at the Docker Dashboard, you'll see that we have two app containers running. But, there's no real indication that they are grouped together in a single app. We'll see how to make that better shortly!</p> <p><img alt="Docker Dashboard showing two ungrouped app containers" src=dashboard-multi-container-app.png></p> <h2 id=recap>Recap<a class=headerlink href=#recap title="Permanent link">&para;</a></h2> <p>At this point, we have an application that now stores its data in an external database running in a separate container. We learned a little bit about container networking and saw how service discovery can be performed simply using containers names.</p> <p>But, there's a good chance you are starting to feel a little overwhelmed with everything you need to do to start up this application. We have to create a network, start containers, specify all of the environment variables, expose ports, and more! That's a lot to remember and it's certainly making things harder to pass along to someone else.</p> <p>In the next section, we'll talk about Docker Compose. With Docker Compose, we can share our application stacks in a much easier way and let others spin them up with a single (and simple) command!</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../persisting-our-data/ title="Persisting our DB" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Persisting our DB </span> </div> </a> <a href=../using-docker-compose/ title="Using Docker Compose" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Using Docker Compose </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2023-2024 MAKEEN </div> powered by <a href=https://www.mkdocs.org target=_blank rel=noopener>MkDocs</a> and <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs</a> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://github.com/fintech-ye/getting-started target=_blank rel=noopener title=github-alt class="md-footer-social__link fa fa-github-alt"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.c33a9706.js></script> <script>app.initialize({version:"1.3.0",url:{base:"../.."}})</script> </body> </html>